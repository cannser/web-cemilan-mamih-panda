<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - Mamih Panda</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="admin-container">
        <nav class="sidebar">
            <h2><i class="fas fa-paw"></i> Admin Panel</h2>
            <a href="#" onclick="showAdminPage('dashboard')" class="nav-item active" id="nav-dashboard">
                <i class="fas fa-chart-line"></i> Laporan Penjualan
            </a>
            <a href="#" onclick="showAdminPage('stok')" class="nav-item" id="nav-stok">
                <i class="fas fa-boxes"></i> Laporan Stok
            </a>
            <a href="#" onclick="showAdminPage('pesanan')" class="nav-item" id="nav-pesanan">
                <i class="fas fa-shopping-bag"></i> Data Pesanan
            </a>
            <a href="index.html" style="margin-top: auto; color: #e74c3c;"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </nav>

        <main class="admin-content">
            
            <div id="dashboard" class="admin-section active">
                <h1>Laporan Penjualan</h1>
                <div style="display:flex; gap:20px; margin-top:20px;">
                    <div class="stats-card" style="flex:1;">
                        <h3>Total Pendapatan</h3>
                        <p style="font-size:2rem; font-weight:bold; color:var(--primary);">Rp 4.500.000</p>
                    </div>
                    <div class="stats-card" style="flex:1;">
                        <h3>Produk Terjual</h3>
                        <p style="font-size:2rem; font-weight:bold; color:var(--secondary);">150 Pcs</p>
                    </div>
                </div>
            </div>

            <div id="stok" class="admin-section">
                <h1>Manajemen Stok Produk</h1>
                <div class="stats-card">
                    <table id="stock-table">
                        <thead>
                            <tr>
                                <th>Nama Produk</th>
                                <th>Harga Dasar (250gr)</th>
                                <th>Stok (Pcs)</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="stock-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

            <div id="pesanan" class="admin-section">
                <h1>Data Pesanan Masuk</h1>
                <div class="stats-card">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Pelanggan</th>
                                <th>Detail Item</th> 
                                <th>Total</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="order-table-body">
                            </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeEditModal()">&times;</span>
            <h2>Edit Produk</h2>
            <br>
            <form id="editForm">
                <input type="hidden" id="edit-id"> 
                
                <div class="form-group">
                    <label>Nama Produk</label>
                    <input type="text" id="edit-name" readonly style="background:#eee;">
                </div>

                <div class="form-group">
                    <label>Harga Dasar (250gr)</label>
                    <input type="number" id="edit-price">
                </div>

                <div class="form-group">
                    <label>Stok Tersedia</label>
                    <input type="number" id="edit-stock">
                </div>

                <button type="button" class="btn btn-primary btn-full" onclick="saveProductChanges()">Simpan Perubahan</button>
            </form>
        </div>
    </div>

    <script src="js/script.js"></script>
    <script>
        // Jalankan fungsi render tabel saat halaman dibuka
        document.addEventListener('DOMContentLoaded', () => {
            // Render stok saat pertama kali buka
            if(typeof renderStockTable === 'function') renderStockTable();
            // Render pesanan juga (opsional, tapi bagus untuk memastikan)
            if(typeof renderOrderTable === 'function') renderOrderTable();
        });
    </script>
</body>
</html>